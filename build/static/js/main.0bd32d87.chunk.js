(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{60:function(e,t,i){},61:function(e,t,i){"use strict";i.r(t);var a=i(1),o=i(0),n=i.n(o),c=i(18),s=i.n(c),r=i(22),l=i(10),d=i(11),v=i(13),h=i(12),u=i(15),j=i(68),m=i(66),b=i(14),g=i(16);function p(){var e=Object(u.a)(["\n  height: 100%;\n  opacity: 0;\n  padding: 5px;\n  &:hover {\n    opacity: 1;\n    background: rgba(0, 0, 0, .5);\n  }\n"]);return p=function(){return e},e}function O(){var e=Object(u.a)(["\n  background: url(",");\n  background-position: center center;\n  background-size: cover;\n  height: 200px;\n  width: auto;\n"]);return O=function(){return e},e}var x=g.b.div(O(),(function(e){return e.bgImage})),f=g.b.div(p()),w=function(e){Object(v.a)(i,e);var t=Object(h.a)(i);function i(){var e;return Object(l.a)(this,i),(e=t.call(this)).state={willWatch:!1,watchedMovies:!1,watchingNowMovies:!1,dropDownValue:"\u0421\u0442\u0430\u0442\u0443\u0441"},e}return Object(d.a)(i,[{key:"changeValue",value:function(e){this.setState({dropDownValue:e})}},{key:"viewMovie",value:function(){var e="https://www.themoviedb.org/movie/"+this.props.movie.id;window.open(e)}},{key:"render",value:function(){var e=this,t=this.props,i=t.movie,o=t.removeMovie,n=t.removeMovieFromLists,c=t.addMovieToWillWatch,s=t.addMovieToWillWatchList,r=t.addMovieToWatchingNow,l=t.addMovieToWatchingNowList,d=t.addMovieToWatched,v=t.addMovieToWatchedMoviesList,h=t.removeMovieFromWatched,u=t.removeMovieFromWatchedMoviesList,g=t.removeMovieFromWatchingNow,p=t.removeMovieFromWatchingNowList,O=t.removeMovieFromWillWatch,w=t.removeMovieFromWillWatchList;return Object(a.jsxs)(j.a,{children:[Object(a.jsx)(x,{bgImage:"https://image.tmdb.org/t/p/w500".concat(i.backdrop_path||i.poster_path),children:Object(a.jsx)(f,{children:Object(a.jsx)("p",{style:{color:"white",lineHeight:1.25,fontSize:12},children:i.overview})})}),Object(a.jsxs)(j.a.Body,{children:[Object(a.jsx)(j.a.Title,{type:"button",style:{fontSize:19},onClick:this.viewMovie.bind(this),children:i.title}),Object(a.jsx)(j.a.Text,{children:Object(a.jsxs)("p",{children:["Rating: ",i.vote_average]})}),Object(a.jsxs)(j.a.Text,{className:"row",children:[Object(a.jsx)("p",{className:"col",style:{margin:"auto"},children:i.release_date.substring(0,4)}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)(m.a,{variant:"outline-secondary",id:"dropdown-item-button",title:this.state.dropDownValue,className:"format",children:[Object(a.jsx)(b.a.Item,{as:"button",children:Object(a.jsx)("div",{onClick:function(t){return e.changeValue(t.target.textContent)},children:!0===this.state.watchingNowMovies?Object(a.jsx)("div",{onClick:function(){e.setState({watchingNowMovies:!1}),g(i),p(i)},children:"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u044e"}):Object(a.jsx)("div",{onClick:function(){e.setState({watchingNowMovies:!0}),r(i),l(i)},children:"\u0421\u043c\u043e\u0442\u0440\u044e"})})}),Object(a.jsx)(b.a.Item,{as:"button",children:Object(a.jsx)("div",{onClick:function(t){return e.changeValue(t.target.textContent)},children:!0===this.state.willWatch?Object(a.jsx)("div",{onClick:function(){e.setState({willWatch:!1}),O(i),w(i)},children:"\u041f\u0435\u0440\u0435\u0441\u0442\u0430\u043b"}):Object(a.jsx)("div",{onClick:function(){e.setState({willWatch:!0}),c(i),s(i)},children:"\u0411\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"})})}),Object(a.jsx)(b.a.Item,{as:"button",children:Object(a.jsx)("div",{onClick:function(t){return e.changeValue(t.target.textContent)},children:!0===this.state.watchedMovies?Object(a.jsx)("div",{onClick:function(){e.setState({watchedMovies:!1}),h(i),u(i)},children:"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"}):Object(a.jsx)("div",{onClick:function(){e.setState({watchedMovies:!0}),d(i),v(i)},children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b"})})}),Object(a.jsx)(b.a.Item,{as:"button",children:Object(a.jsx)("div",{onClick:function(){o(i),n(i)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c"})})]})})]})]})]})}}]),i}(n.a.Component),W="https://api.themoviedb.org/3",M="4237669ebd35e8010beee2f55fd45546",N=i(67),y=i(69),k=function(e){Object(v.a)(i,e);var t=Object(h.a)(i);function i(){return Object(l.a)(this,i),t.apply(this,arguments)}return Object(d.a)(i,[{key:"render",value:function(){var e=this.props,t=e.sort_by,i=e.updateSortBy,o=function(e){return function(){i(e)}},n=function(e){return"nav-link ".concat(t===e?"active":"")};return Object(a.jsx)("div",{children:Object(a.jsxs)(N.a,{collapseOnSelect:!0,expand:"lg",children:[Object(a.jsx)(N.a.Brand,{href:"/",style:{fontSize:"23px"},children:" \u0427\u0442\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c? "}),Object(a.jsx)(N.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(a.jsxs)(N.a.Collapse,{id:"responsive-navbar-nav",className:"row",children:[Object(a.jsxs)(y.a,{className:"col-xl-2 col-lg-3",title:"\u041f\u043e \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u0438",id:"collasible-nav-dropdown",children:[Object(a.jsx)(y.a.Item,{children:Object(a.jsx)("div",{className:n("popularity.asc"),onClick:o("popularity.asc"),children:"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"})}),Object(a.jsx)(y.a.Item,{className:"nav-item",children:Object(a.jsx)("div",{className:n("popularity.desc"),onClick:o("popularity.desc"),children:"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e"})})]}),Object(a.jsxs)(y.a,{className:"col-xl-2 col-lg-3",title:"\u041f\u043e \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443",id:"collasible-nav-dropdown",children:[Object(a.jsx)(y.a.Item,{children:Object(a.jsx)("div",{className:n("vote_average.asc"),onClick:o("vote_average.asc"),children:"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"})}),Object(a.jsx)(y.a.Item,{className:"nav-item",children:Object(a.jsx)("div",{className:n("vote_average.desc"),onClick:o("vote_average.desc"),children:"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e"})})]}),Object(a.jsxs)(y.a,{className:"col-xl-2 col-lg-3",title:"\u041f\u043e \u0433\u043e\u0434\u0443 \u0432\u044b\u043f\u0443\u0441\u043a\u0430",id:"collasible-nav-dropdown",children:[Object(a.jsx)(y.a.Item,{children:Object(a.jsx)("div",{className:n("primary_release_date.asc"),onClick:o("primary_release_date.asc"),children:"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"})}),Object(a.jsx)(y.a.Item,{className:"nav-item",children:Object(a.jsx)("div",{className:n("primary_release_date.desc"),onClick:o("primary_release_date.desc"),children:"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e"})})]}),Object(a.jsxs)(y.a,{className:"col-xl-2 col-lg-3",title:"\u041f\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443",id:"collasible-nav-dropdown",children:[Object(a.jsx)(y.a.Item,{children:Object(a.jsx)("div",{className:n("original_title.asc"),onClick:o("original_title.asc"),children:"\u041e\u0442 \u0410 \u0434\u043e \u042f"})}),Object(a.jsx)(y.a.Item,{className:"nav-item",children:Object(a.jsx)("div",{className:n("original_title.desc"),onClick:o("original_title.desc"),children:"\u041e\u0442 \u042f \u0434\u043e \u0410"})})]})]})]})})}}]),i}(n.a.Component),L=function(e){Object(v.a)(i,e);var t=Object(h.a)(i);function i(){return Object(l.a)(this,i),t.apply(this,arguments)}return Object(d.a)(i,[{key:"render",value:function(){var e=this.props,t=e.onNextButtonClick,i=e.onPrevButtonClick,o=e.currentPage,n=e.totalPages,c=1===o?"disabled":"",s=o===n?"disabled":"";return Object(a.jsx)("div",{children:Object(a.jsx)("nav",{"aria-label":"Page navigation",className:"d-flex justify-content-center",children:Object(a.jsxs)("ul",{className:"pagination",children:[Object(a.jsx)("li",{className:"page-item ".concat(c),children:Object(a.jsx)("span",{className:"page-link",onClick:i,children:"<"})}),Object(a.jsx)("li",{className:"mx-3 py-2",children:Object(a.jsxs)("p",{children:[o," \u0438\u0437 ",n]})}),Object(a.jsx)("li",{className:"page-item ".concat(s),children:Object(a.jsx)("span",{className:"page-link",onClick:t,children:">"})})]})})})}}]),i}(n.a.Component);function _(){var e=Object(u.a)(["\n    a{\n        text-decoration:none;\n        color:inherit;\n        font-family: 'Roboto', sans-serif;\n        font-size:15px;\n    }\n    *{\n        box-sizing:border-box;\n          margin: 0;\n    }\n    body{\n        font-family: 'Roboto', sans-serif;\n        padding-top:15px;\n    }\n    p{\n      margin: 0;\n    }\n\n\n"]);return _=function(){return e},e}var C=Object(g.a)(_());function F(){var e=Object(u.a)(["\n  display: block;\n  font-size: 15px;\n  font-weight: 400;\n  text-align: right;\n  line-height:1.5;\n"]);return F=function(){return e},e}function S(){var e=Object(u.a)(["\n  display: block;\n  font-size: 17px;\n  font-weight: 500;\n  text-align: right;\n  margin: 0;\n  margin-bottom:7px;\n"]);return S=function(){return e},e}function T(){var e=Object(u.a)(["\n  border-radius:5px;\n  border: 1px solid black;\n  margin-bottom:5px;\n  padding: 0 5px;\n\n"]);return T=function(){return e},e}var P=g.b.div(T()),B=g.b.p(S()),I=g.b.p(F()),z=function(e){Object(v.a)(i,e);var t=Object(h.a)(i);function i(){return Object(l.a)(this,i),t.apply(this,arguments)}return Object(d.a)(i,[{key:"render",value:function(){var e=this.props,t=e.moviesWillWatchList,i=e.watchedMoviesList,o=e.watchingNowList,n=e.moviesWillWatch,c=e.watchedMovies,s=e.watchingNow;return Object(a.jsxs)("div",{className:"col",children:[Object(a.jsxs)(P,{style:{backgroundColor:"rgb(172, 236, 236, 0.3)"},children:[Object(a.jsxs)(B,{children:["\u0411\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c: ",n.length," "]}),Object(a.jsxs)(I,{children:["  ",t]})]}),Object(a.jsxs)(P,{style:{backgroundColor:"rgb(255, 186, 186, .3)"},children:[Object(a.jsxs)(B,{children:["\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b: ",c.length]}),Object(a.jsxs)(I,{children:[" ",i]})]}),Object(a.jsxs)(P,{style:{backgroundColor:"rgb(229, 252, 183, .3)"},children:[Object(a.jsxs)(B,{children:["\u0421\u043c\u043e\u0442\u0440\u044e: ",s.length]}),Object(a.jsxs)(I,{children:[" ",o]})]})]})}}]),i}(n.a.Component),V=function(e){Object(v.a)(i,e);var t=Object(h.a)(i);function i(){var e;return Object(l.a)(this,i),(e=t.call(this)).getMovies=function(){fetch("".concat(W,"/discover/movie?api_key=").concat(M,"&sort_by=").concat(e.state.sort_by,"&language=").concat(e.state.language,"&page=").concat(e.state.page,"&vote_count.gte=").concat(e.state.vote_count_gte)).then((function(e){return e.json()})).then((function(t){e.setState({movies:t.results})}))},e.removeMovie=function(t){var i=e.state.movies.filter((function(e){return e.id!==t.id}));console.log(i),e.setState({movies:i})},e.addMovieToWillWatch=function(t){var i=Object(r.a)(e.state.moviesWillWatch);i.push(t),e.setState({moviesWillWatch:i})},e.addMovieToWillWatchList=function(t){var i=Object(r.a)(e.state.moviesWillWatchList);i.push(t.title,Object(a.jsx)("br",{})),e.setState({moviesWillWatchList:i})},e.removeMovieFromWillWatch=function(t){var i=e.state.moviesWillWatch.filter((function(e){return e.id!==t.id}));e.setState({moviesWillWatch:i})},e.removeMovieFromWillWatchList=function(t){var i=e.state.moviesWillWatchList.filter((function(e){return e.id===t.id}));e.setState({moviesWillWatchList:i})},e.addMovieToWatched=function(t){var i=Object(r.a)(e.state.watchedMovies);i.push(t),e.setState({watchedMovies:i})},e.addMovieToWatchedMoviesList=function(t){var i=Object(r.a)(e.state.watchedMoviesList);i.push(t.title,Object(a.jsx)("br",{})),e.setState({watchedMoviesList:i})},e.removeMovieFromWatched=function(t){var i=e.state.watchedMovies.filter((function(e){return e.id!==t.id}));e.setState({watchedMovies:i})},e.removeMovieFromWatchedMoviesList=function(t){var i=e.state.watchedMoviesList.filter((function(e){return e.id===t.id}));e.setState({watchedMoviesList:i})},e.addMovieToWatchingNow=function(t){var i=Object(r.a)(e.state.watchingNow);i.push(t),e.setState({watchingNow:i})},e.addMovieToWatchingNowList=function(t){var i=Object(r.a)(e.state.watchingNowList);i.push(t.title,Object(a.jsx)("br",{})),e.setState({watchingNowList:i})},e.removeMovieFromWatchingNow=function(t){var i=e.state.watchingNow.filter((function(e){return e.id!==t.id}));e.setState({watchingNow:i})},e.removeMovieFromWatchingNowList=function(t){var i=e.state.watchingNowList.filter((function(e){return e.id===t.id}));e.setState({watchingNowList:i})},e.removeMovieFromLists=function(t){return e.removeMovieFromWillWatch(t),e.removeMovieFromWatched(t),e.removeMovieFromWatchingNow(t),e.removeMovieFromWillWatchList(t),e.removeMovieFromWatchingNowList(t),e.removeMovieFromWatchedMoviesList(t)},e.updateSortBy=function(t){e.setState({sort_by:t})},e.onNextButtonClick=function(t){if(e.state.currentPage===e.state.totalPages)return!1;fetch("".concat(W,"/discover/movie?api_key=").concat(M,"&sort_by=").concat(e.state.sort_by,"&language=").concat(e.state.language,"&vote_count.gte=").concat(e.state.vote_count_gte,"&page=").concat(e.state.currentPage+1)).then((function(e){return e.json()})).then((function(t){e.setState({movies:t.results,currentPage:t.page})}))},e.onPrevButtonClick=function(t){if(1===e.state.currentPage)return!1;fetch("".concat(W,"/discover/movie?api_key=").concat(M,"&sort_by=").concat(e.state.sort_by,"&language=").concat(e.state.language,"&vote_count.gte=").concat(e.state.vote_count_gte,"&page=").concat(e.state.currentPage-1)).then((function(e){return e.json()})).then((function(t){e.setState({movies:t.results,currentPage:t.page})}))},e.state={movies:[],moviesWillWatch:[],watchedMovies:[],watchingNow:[],sort_by:"popularity.desc",language:"ru-Ru",vote_count_gte:100,totalPages:500,currentPage:1,moviesWillWatchList:[],watchedMoviesList:[],watchingNowList:[]},e}return Object(d.a)(i,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"componentDidUpdate",value:function(e,t){t.sort_by!==this.state.sort_by&&this.getMovies()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"row my-3",children:Object(a.jsx)("div",{className:"col-12",children:Object(a.jsx)(k,{sort_by:this.state.sort_by,updateSortBy:this.updateSortBy})})}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-9 col-md-12",children:Object(a.jsx)("div",{className:"row",children:this.state.movies.map((function(t){return Object(a.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-12 mb-4",children:Object(a.jsx)(w,{movie:t,removeMovie:e.removeMovie,removeMovieFromLists:e.removeMovieFromLists,removeMovieFromWillWatchList:e.removeMovieFromWillWatchList,removeMovieFromWatchedMoviesList:e.removeMovieFromWatchedMoviesList,removeMovieFromWatchingNowList:e.removeMovieFromWatchingNowList,addMovieToWatched:e.addMovieToWatched,addMovieToWatchedMoviesList:e.addMovieToWatchedMoviesList,removeMovieFromWatched:e.removeMovieFromWatched,addMovieToWatchingNow:e.addMovieToWatchingNow,addMovieToWatchingNowList:e.addMovieToWatchingNowList,removeMovieFromWatchingNow:e.removeMovieFromWatchingNow,addMovieToWillWatch:e.addMovieToWillWatch,addMovieToWillWatchList:e.addMovieToWillWatchList,removeMovieFromWillWatch:e.removeMovieFromWillWatch})},t.id)}))})}),Object(a.jsx)(z,{moviesWillWatchList:this.state.moviesWillWatchList,watchedMoviesList:this.state.watchedMoviesList,watchingNowList:this.state.watchingNowList,watchedMovies:this.state.watchedMovies,moviesWillWatch:this.state.moviesWillWatch,watchingNow:this.state.watchingNow})]}),Object(a.jsx)("div",{className:"row my-4",children:Object(a.jsx)("div",{className:"col-12",children:Object(a.jsx)(L,{onNextButtonClick:this.onNextButtonClick,onPrevButtonClick:this.onPrevButtonClick,totalPages:this.state.totalPages,currentPage:this.state.currentPage})})})]}),Object(a.jsx)(C,{})]})}}]),i}(n.a.Component);i(60);s.a.render(Object(a.jsx)(V,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.0bd32d87.chunk.js.map